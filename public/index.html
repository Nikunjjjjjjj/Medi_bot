<!DOCTYPE html>
<html>
<head>
  <title>Semantic Chatbot</title>
  <style>
    .input-container {
      display: flex;
      align-items: center;
      gap: 10px;
      margin: 20px 0;
    }
    
    #msgInput {
      flex: 1;
      padding: 10px;
      border: 1px solid #ccc;
      border-radius: 5px;
      font-size: 16px;
    }
    
    .mic-button {
      background: #007bff;
      color: white;
      border: none;
      border-radius: 50%;
      width: 50px;
      height: 50px;
      cursor: pointer;
      display: flex;
      align-items: center;
      justify-content: center;
      font-size: 20px;
      transition: background-color 0.3s;
    }
    
    .mic-button:hover {
      background: #0056b3;
    }
    
    .mic-button.recording {
      background: #dc3545;
      animation: pulse 1.5s infinite;
    }
    
    @keyframes pulse {
      0% { transform: scale(1); }
      50% { transform: scale(1.1); }
      100% { transform: scale(1); }
    }
    
    .send-button {
      background: #28a745;
      color: white;
      border: none;
      padding: 10px 20px;
      border-radius: 5px;
      cursor: pointer;
      font-size: 16px;
    }
    
    .send-button:hover {
      background: #218838;
    }
    
    #fileInput {
      display: none;
    }
    
    .status {
      margin-top: 10px;
      font-style: italic;
      color: #666;
    }
  </style>
</head>
<body>
  <h1>Ask Me Anything ðŸ¤–</h1>
  <div id="chat"></div>
  
  <div class="input-container">
    <input id="msgInput" placeholder="Type your message..." />
    <button class="mic-button" onclick="toggleRecording()" title="Click to record or upload audio">
      ðŸŽ¤
    </button>
    <button class="send-button" onclick="sendMessage()">Send</button>
  </div>
  
  <input type="file" id="fileInput" accept="audio/*,.mp3" onchange="handleFileUpload(event)" />
  <div id="status" class="status"></div>

  <!-- Load Socket.IO from CDN since backend is deployed separately -->
  <script src="https://cdn.socket.io/4.8.1/socket.io.min.js"></script>
  <script src="chat.js"></script>
</body>
</html>